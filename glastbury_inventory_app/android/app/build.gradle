// android/app/build.gradle

// ðŸ’¡ NEW DECLARATIVE PLUGINS BLOCK - MUST BE AT THE TOP
plugins {
    id "com.android.application"
    id "kotlin-android"
    
    id "dev.flutter.flutter-gradle-plugin" 
    id "dev.flutter.flutter-app-plugin-loader" 
}

android {
    namespace "com.glastbury.inventory" // Replace with your actual package name
    compileSdkVersion 34 // Use a modern SDK version
    
    defaultConfig {
        applicationId "com.glastbury.inventory"
        minSdkVersion 21
        targetSdkVersion 34
        versionCode flutter.versionCode.toInteger()
        versionName flutter.versionName
    }

    signingConfigs {
        debug {
            storeFile rootProject.file("debug.keystore")
            storePassword "android"
            keyAlias "androiddebugkey"
            keyPassword "android"
        }
    }

    buildTypes {
        release {
            signingConfig signingConfigs.debug // For CI/CD testing, use debug signing. For real release, use your production config.
            minifyEnabled false
            shrinkResources false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
}

// Ensure local properties file is included, which contains flutter sdk path
// apply from: "$flutterRoot/packages/flutter_tools/gradle/flutter.gradle"
